The Open Wavetable library is used by Android HAL code to facilitate
interaction with the Cirrus Logic CS40L26 Class-D Boosted Haptics Amplifier.

This feature allows the user to write binary data directly to the device's
RAM wavetable at runtime. For more information on this and the CS40L26 device
driver as a whole refer to AN0516 CS40L26 Software User Guide or request info
from a Cirrus Logic representative.

The functions provided in the library introduce a simple method for entering
Composite (Waveform Type 10) strings or PWLE (Waveform Type 12) strings and
getting a binary representation of the data to send to the driver in return.

Below are two examples of how to use the library, one for each waveform type.

Composite (Type 10) Waveforms make use of previously uploaded waveforms in 
the RAM wavetable.

'3.50, 100, 3.75, 100, 1!'

This will play RAM index 3 @ 50% amplitude, waits 100 ms, plays RAM index 
3 @ 75% amplitude. This will repeat one time ('1!') for a total of 2
playthroughs.

PWLE (Type 12) waveforms create a piecewise linear envelope wave that can
have varying voltage level, frequency, Back EMF voltage targets, across its
individual segments.

'S:0,WF:8,RP:1,WT:399.5,M:2,K:500,T0:0,L0:0.49152,F0:200,C0:0,B0:0,AR0:0,
V0:0,T1:400,L1:0.49152,F1:200,C1:0,B1:0,AR1:1,V1:0.022'

Going through the string element by element we can analyze how this waveform
will be formatted.

S:0 - "Save" value. This is unused but required for backwards compatibility
and to ensure the string has been formatted correctly. Accepted values are '1'
and '0'

WF:8 - Waveform feature. This describes what type of waveform this is. It is
used to identify the waveform for future use, it does not have any affect on
how the waveform behaves
Accepted Values:
	0 - Buzz
	4 - Closed Loop Active Braking
	8 - Click
	12 - CLAB + click

RP:1 - Number of times the entire waveform will repeat
Accepted Values: 0 - 255 (must be integer)

WT:399.5 - Amount of time in ms to wait in between repeats
Accepted Values: 0 - 1023.75 (ms) (0.25 ms resolution)

T0:0 - Time at which section 0 will begin in ms
Accepted values:0 - 16383.5 (ms) (0.25 ms resolution) or 65535 (indefinite)

M:2 - SVC braking mode. Accepted Values:
	-1 - None
	0 - CAT
	1 - Closed Loop
	2 - Open Loop
	3 - Mixed Mode

K:500 - SVC braking time
Accepted Values: 0 - 1000 (ms)

L0:0.49152 - Intensity level of section 0.
Accepted values: -1 - 0.9995 (0.00048 resolution, unitless)
Negative values cause 180 degree phase shift

F0:200 - Frequency of section 0 in Hz.
Accepted values: 0.25 - 1023.75 Hz (0.25 Hz resolution) or exact F0 value

C0:0 - Set dynamic or staic frequency for section 0
Accepted values:
	0 - Frequency remains the same during section
	1 - Frequency ramps at given frequency to frequency in next section

B0:0 - Set CLAB for section 0
Accepted values:
	0 - CLAB disabled
	1 - CLAB enabled

AR0:0 - Set Amplitude Regulation for section 0
Accepted values:
	0 - Amplitude Regulation disabled
	1 - Amplitude Regulation enabled for this section with back EMF voltage
	target corresponding to value set for 'V'

V0:0 - Target back EMF voltage for Amplitude Regulation for section 0 in Volts
Accepted values: 0 - 1 (V) (0.001 V resolution)
Must be 0 if AR for this section is 0

T1:400 - Time at which section 1 will begin in ms
Accepted values:0 - 16383.5 (ms) (0.25 ms resolution) or 65535 (indefinite)

L1:0.49152 - Intensity level of section 1
Accepted values: -1 - 0.9995 (0.00048 resolution, unitless)
Negative values cause 180 degree phase shift

F1:200 - Frequency of section 1 in Hz
Accepted values: 0.25 - 1023.75 Hz (0.25 Hz resolution) or exact F0 value

C1:0 - Set dynamic or staic frequency for section 1
Accepted values:
	0 - Frequency remains the same during section
	1 - Frequency ramps at given frequency to frequency in next section

B1:0 - Set CLAB for section 1
Accepted values:
	0 - CLAB disabled
	1 - CLAB enabled

AR1:1 - Set Amplitude Regulation for section 1
Accepted values:
	0 - Amplitude Regulation disabled
	1 - Amplitude Regulation enabled for this section with back EMF voltage
	target corresponding to value set for 'V'

V1:0.022 - Target back EMF voltage for Amplitude Regulation for section 1 in V
Accepted values: 0 - 1 (V) (0.001 V resolution)
Must be 0 if AR for this section is 0

On the whole, this waveform will simply play a buzz with a constant 200 Hz
frequency, 0.49152 intensity level, and with CLAB disabled. The second section
(Section 1) has a targeted back EMF value of 0.022V. Section 0 will be played
until section 1 starts at 399.5 ms. The entire waveform will be repeated once
for a total of 2 playthroughs.
